import React, { useState } from 'react';
import { Check, Lock } from 'lucide-react';

const LifeSkillTree = () => {
  const [theme, setTheme] = useState('yggdrasil');
  const [selectedNode, setSelectedNode] = useState(null);

  const [skills, setSkills] = useState({
    // ì–´í•™ (ì™„ë£Œ)
    toeic965: { name: 'TOEIC 965', completed: true, date: '', category: 'language', level: 3, prereq: null },
    
    // ë¬´ì—­/ìœ í†µ (ì™„ë£Œ)
    tradeEng1: { name: 'ë¬´ì—­ì˜ì–´ 1ê¸‰', completed: true, date: '', category: 'trade', level: 3, prereq: null },
    tradeMaster2: { name: 'êµ­ì œë¬´ì—­ì‚¬ 2ê¸‰', completed: true, date: '', category: 'trade', level: 2, prereq: null },
    distribution2: { name: 'ìœ í†µê´€ë¦¬ì‚¬ 2ê¸‰', completed: true, date: '', category: 'trade', level: 2, prereq: null },
    
    // ì¶”ì²œ: ë¬´ì—­/ìœ í†µ ì‹¬í™”
    tradeMaster1: { name: 'êµ­ì œë¬´ì—­ì‚¬ 1ê¸‰', completed: false, date: '', category: 'trade', level: 4, prereq: 'tradeMaster2', recommended: true },
    logisticsMgr: { name: 'ë¬¼ë¥˜ê´€ë¦¬ì‚¬', completed: false, date: '', category: 'trade', level: 4, prereq: 'distribution2', recommended: true },
    customsAgent: { name: 'ê´€ì„¸ì‚¬', completed: false, date: '', category: 'trade', level: 5, prereq: 'logisticsMgr', recommended: true },
    originMgr: { name: 'ì›ì‚°ì§€ê´€ë¦¬ì‚¬', completed: false, date: '', category: 'trade', level: 4, prereq: 'tradeMaster1', recommended: true },
    
    // IT/ì‚¬ë¬´ (ì¼ë¶€ ì™„ë£Œ)
    wordProcessor: { name: 'ì›Œë“œí”„ë¡œì„¸ì„œ', completed: true, date: '', category: 'it', level: 1, prereq: null },
    infoProcTech: { name: 'ì •ë³´ì²˜ë¦¬ê¸°ëŠ¥ì‚¬', completed: true, date: '', category: 'it', level: 1, prereq: null },
    infoProcEng: { name: 'ì •ë³´ì²˜ë¦¬ì‚°ì—…ê¸°ì‚¬', completed: false, date: '', category: 'it', level: 2, prereq: 'infoProcTech' },
    infoProcPro: { name: 'ì •ë³´ì²˜ë¦¬ê¸°ì‚¬', completed: false, date: '', category: 'it', level: 3, prereq: 'infoProcEng' },
    
    // ì¶”ì²œ: IT ì‹¬í™”
    sqld: { name: 'SQLD', completed: false, date: '', category: 'it', level: 2, prereq: 'wordProcessor', recommended: true },
    adsp: { name: 'ADsP', completed: false, date: '', category: 'it', level: 3, prereq: 'sqld', recommended: true },
    bigdata: { name: 'ë¹…ë°ì´í„°ë¶„ì„ê¸°ì‚¬', completed: false, date: '', category: 'it', level: 4, prereq: 'adsp', recommended: true },
    
    // í†µì‹  (ì™„ë£Œ)
    landRadio: { name: 'ìœ¡ìƒë¬´ì„ í†µì‹ ì‚¬', completed: true, date: '', category: 'communication', level: 2, prereq: null },
    seaRadio: { name: 'í•´ìƒë¬´ì„ í†µì‹ ì‚¬', completed: true, date: '', category: 'communication', level: 2, prereq: null },
    
    // ì•ˆì „/ìœ„í—˜ë¬¼ (ì¼ë¶€ ì™„ë£Œ)
    hazardTech: { name: 'ìœ„í—˜ë¬¼ê¸°ëŠ¥ì‚¬', completed: true, date: '', category: 'safety', level: 1, prereq: null },
    hazardEng: { name: 'ìœ„í—˜ë¬¼ì‚°ì—…ê¸°ì‚¬', completed: false, date: '', category: 'safety', level: 2, prereq: 'hazardTech' },
    gasEng: { name: 'ê°€ìŠ¤ê¸°ì‚¬', completed: false, date: '', category: 'safety', level: 3, prereq: 'hazardEng' },
    
    // ì¶”ì²œ: ì•ˆì „ ì‹¬í™”
    safetyMgr: { name: 'ì‚°ì—…ì•ˆì „ê¸°ì‚¬', completed: false, date: '', category: 'safety', level: 3, prereq: 'hazardEng', recommended: true },
    
    // ì‚¬ë¬´ (ì™„ë£Œ)
    secretary2: { name: 'ë¹„ì„œ 2ê¸‰', completed: true, date: '', category: 'office', level: 2, prereq: null },
    
    // ì¶”ì²œ: ì‚¬ë¬´ ì‹¬í™”
    secretary1: { name: 'ë¹„ì„œ 1ê¸‰', completed: false, date: '', category: 'office', level: 3, prereq: 'secretary2', recommended: true },
    humanResource: { name: 'ì¸ì ìì›ê´€ë¦¬ì‚¬', completed: false, date: '', category: 'office', level: 3, prereq: 'secretary2', recommended: true },
  });

  const [academic] = useState({ gpa: 3.2, maxGpa: 4.5 });

  const categories = {
    language: { name: 'ì–´í•™', color: '#3b82f6', gradient: 'from-blue-400 to-cyan-400', icon: 'ğŸŒ' },
    trade: { name: 'ë¬´ì—­/ìœ í†µ', color: '#8b5cf6', gradient: 'from-purple-400 to-pink-400', icon: 'ğŸ“¦' },
    it: { name: 'IT/ì •ë³´', color: '#10b981', gradient: 'from-emerald-400 to-teal-400', icon: 'ğŸ’»' },
    communication: { name: 'í†µì‹ ', color: '#f59e0b', gradient: 'from-amber-400 to-orange-400', icon: 'ğŸ“¡' },
    safety: { name: 'ì•ˆì „/ìœ„í—˜ë¬¼', color: '#ef4444', gradient: 'from-red-400 to-rose-400', icon: 'âš ï¸' },
    office: { name: 'ì‚¬ë¬´', color: '#ec4899', gradient: 'from-pink-400 to-fuchsia-400', icon: 'ğŸ“‹' },
  };

  const themes = {
    yggdrasil: { name: 'ì„¸ê³„ìˆ˜', bg: 'from-slate-950 via-slate-900 to-zinc-950' },
    galaxy: { name: 'ì€í•˜ìˆ˜', bg: 'from-indigo-950 via-purple-950 to-pink-950' },
    cyber: { name: 'ì‚¬ì´ë²„', bg: 'from-black via-gray-950 to-zinc-950' },
    nature: { name: 'ìì—°', bg: 'from-sky-950 via-blue-900 to-indigo-950' }
  };

  const currentTheme = themes[theme];

  // ë…¸ë“œ ìœ„ì¹˜ ì •ì˜ (ê³ ì •)
  const nodePositions = {
    // ì¤‘ì•™ ë¿Œë¦¬
    root: { x: '50%', y: '85%' },
    
    // ì–´í•™ (ì™¼ìª½ ìƒë‹¨)
    toeic965: { x: '15%', y: '15%' },
    
    // ë¬´ì—­/ìœ í†µ (ì™¼ìª½)
    tradeEng1: { x: '12%', y: '30%' },
    tradeMaster2: { x: '8%', y: '42%' },
    tradeMaster1: { x: '5%', y: '54%' },
    distribution2: { x: '18%', y: '52%' },
    logisticsMgr: { x: '15%', y: '64%' },
    customsAgent: { x: '12%', y: '76%' },
    originMgr: { x: '22%', y: '66%' },
    
    // IT/ì •ë³´ (ì¤‘ì•™ ì™¼ìª½)
    wordProcessor: { x: '35%', y: '72%' },
    sqld: { x: '32%', y: '60%' },
    adsp: { x: '28%', y: '48%' },
    bigdata: { x: '25%', y: '36%' },
    infoProcTech: { x: '42%', y: '62%' },
    infoProcEng: { x: '40%', y: '50%' },
    infoProcPro: { x: '38%', y: '38%' },
    
    // í†µì‹  (ì¤‘ì•™ ì˜¤ë¥¸ìª½)
    landRadio: { x: '58%', y: '62%' },
    seaRadio: { x: '60%', y: '50%' },
    
    // ì•ˆì „/ìœ„í—˜ë¬¼ (ì˜¤ë¥¸ìª½)
    hazardTech: { x: '68%', y: '72%' },
    hazardEng: { x: '72%', y: '60%' },
    safetyMgr: { x: '78%', y: '52%' },
    gasEng: { x: '75%', y: '44%' },
    
    // ì‚¬ë¬´ (ì˜¤ë¥¸ìª½ ìƒë‹¨)
    secretary2: { x: '82%', y: '35%' },
    secretary1: { x: '85%', y: '25%' },
    humanResource: { x: '88%', y: '42%' },
  };

  const getCategoryStats = () => {
    const stats = {};
    Object.entries(categories).forEach(([key, cat]) => {
      const catSkills = Object.values(skills).filter(s => s.category === key);
      const completed = catSkills.filter(s => s.completed).length;
      const total = catSkills.length;
      stats[cat.name] = { completed, total, percentage: total > 0 ? (completed / total * 100) : 0 };
    });
    return stats;
  };

  const getTotalStats = () => {
    const total = Object.keys(skills).length;
    const completed = Object.values(skills).filter(s => s.completed).length;
    const recommended = Object.values(skills).filter(s => s.recommended && !s.completed).length;
    return { total, completed, recommended, percentage: (completed / total * 100).toFixed(1) };
  };

  const isUnlocked = (skillId) => {
    const skill = skills[skillId];
    if (!skill.prereq) return true;
    return skills[skill.prereq].completed;
  };

  const toggleComplete = (skillId) => {
    if (!isUnlocked(skillId)) return;
    setSkills(prev => ({
      ...prev,
      [skillId]: { ...prev[skillId], completed: !prev[skillId].completed }
    }));
  };

  const updateDate = (skillId, date) => {
    setSkills(prev => ({
      ...prev,
      [skillId]: { ...prev[skillId], date }
    }));
  };

  const Hexagon = ({ size = 60, children, className = '', style = {} }) => {
    const points = Array.from({ length: 6 }, (_, i) => {
      const angle = (Math.PI / 3) * i - Math.PI / 2;
      const x = size / 2 + (size / 2) * Math.cos(angle);
      const y = size / 2 + (size / 2) * Math.sin(angle);
      return `${x},${y}`;
    }).join(' ');

    return (
      <div className={`relative ${className}`} style={{ width: size, height: size, ...style }}>
        <svg width={size} height={size} className="absolute inset-0">
          <polygon points={points} className="transition-all duration-300" />
        </svg>
        <div className="absolute inset-0 flex items-center justify-center">
          {children}
        </div>
      </div>
    );
  };

  const renderConnection = (fromId, toId) => {
    const from = nodePositions[fromId];
    const to = nodePositions[toId];
    if (!from || !to) return null;

    const skill = skills[toId];
    const unlocked = isUnlocked(toId);
    const category = categories[skill.category];

    // ë°±ë¶„ìœ¨ì„ í”½ì…€ë¡œ ë³€í™˜ (ë¶€ëª¨ ì»¨í…Œì´ë„ˆ í¬ê¸° ê¸°ì¤€)
    const containerWidth = 1200; // ëŒ€ëµì ì¸ ì»¨í…Œì´ë„ˆ ë„ˆë¹„
    const containerHeight = 900;
    
    const x1 = parseFloat(from.x) * containerWidth / 100;
    const y1 = parseFloat(from.y) * containerHeight / 100;
    const x2 = parseFloat(to.x) * containerWidth / 100;
    const y2 = parseFloat(to.y) * containerHeight / 100;

    return (
      <line
        key={`${fromId}-${toId}`}
        x1={x1}
        y1={y1}
        x2={x2}
        y2={y2}
        stroke={category.color}
        strokeWidth="2"
        strokeOpacity={unlocked ? 0.5 : 0.15}
        strokeDasharray={unlocked ? "0" : "4,4"}
        className="transition-all duration-300"
      />
    );
  };

  const renderSkillNode = (skillId) => {
    const skill = skills[skillId];
    const position = nodePositions[skillId];
    if (!position) return null;

    const unlocked = isUnlocked(skillId);
    const category = categories[skill.category];

    return (
      <div
        key={skillId}
        className="absolute transform -translate-x-1/2 -translate-y-1/2"
        style={{ left: position.x, top: position.y }}
      >
        <div 
          className="cursor-pointer group"
          onClick={() => unlocked && setSelectedNode(selectedNode === skillId ? null : skillId)}
        >
          <Hexagon size={70} className={`transition-all duration-300 ${unlocked ? 'group-hover:scale-110' : ''}`}>
            <svg width="70" height="70" className="absolute inset-0">
              <defs>
                <filter id={`glow-${skillId}`}>
                  <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                  <feMerge>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>
              <polygon
                points="35,8.66 60.62,23.33 60.62,52.67 35,67.34 9.38,52.67 9.38,23.33"
                fill={skill.completed ? '#fbbf24' : unlocked ? category.color + '40' : '#1f2937'}
                stroke={skill.completed ? '#fbbf24' : unlocked ? category.color : '#374151'}
                strokeWidth={skill.completed ? "3" : skill.recommended ? "2.5" : "2"}
                strokeDasharray={skill.recommended && !skill.completed ? "4,2" : "0"}
                filter={skill.completed ? `url(#glow-${skillId})` : ''}
                className="transition-all duration-300"
              />
            </svg>
            
            <div className="relative z-10 text-2xl">
              {skill.completed ? 'âœ¨' : unlocked ? category.icon : <Lock size={20} className="text-gray-500" />}
            </div>
          </Hexagon>

          {/* ì¶”ì²œ í‘œì‹œ */}
          {skill.recommended && !skill.completed && unlocked && (
            <div className="absolute -top-3 -right-3 w-6 h-6 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500 flex items-center justify-center shadow-lg animate-pulse">
              <span className="text-white text-xs font-bold">!</span>
            </div>
          )}

          {/* ë ˆë²¨ í‘œì‹œ */}
          <div className={`absolute -top-1 -right-1 w-7 h-7 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg bg-gradient-to-br ${category.gradient}`}>
            {skill.level}
          </div>

          {/* ì´ë¦„ */}
          <div className={`absolute top-20 left-1/2 transform -translate-x-1/2 text-white text-center text-xs font-semibold whitespace-nowrap px-3 py-1.5 rounded-lg backdrop-blur-sm border ${
            skill.recommended && !skill.completed ? 'bg-amber-900/70 border-amber-500/50' : 'bg-black/70 border-white/10'
          }`}>
            {skill.name}
          </div>
        </div>

        {/* ìƒì„¸ ì •ë³´ íŒ¨ë„ */}
        {selectedNode === skillId && (
          <div className="absolute top-24 left-1/2 transform -translate-x-1/2 bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-5 shadow-2xl z-50 w-72 border border-gray-700">
            <div className="flex items-center gap-3 mb-3">
              <div className={`w-10 h-10 rounded-lg bg-gradient-to-br ${category.gradient} flex items-center justify-center text-xl`}>
                {category.icon}
              </div>
              <div>
                <h3 className="font-bold text-lg text-white">{skill.name}</h3>
                <div className="text-xs text-gray-400">{category.name} Â· Level {skill.level}</div>
              </div>
            </div>
            
            {skill.recommended && !skill.completed && (
              <div className="mb-3 px-3 py-2 bg-amber-500/20 border border-amber-500/50 rounded-lg">
                <div className="text-amber-300 text-xs font-semibold">ğŸ’¡ ì¶”ì²œ ìê²©ì¦</div>
                <div className="text-amber-200/80 text-xs mt-1">ë‹¹ì‹ ì˜ ê²½ë ¥ì— ë„ì›€ì´ ë  ìê²©ì¦ì…ë‹ˆë‹¤</div>
              </div>
            )}

            <div className="border-t border-gray-700 pt-3 mb-3">
              <label className="text-xs text-gray-400 block mb-1">ì·¨ë“ì¼</label>
              <input
                type="date"
                value={skill.date}
                onChange={(e) => updateDate(skillId, e.target.value)}
                className="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-gray-500"
                disabled={!skill.completed}
              />
            </div>

            {unlocked && (
              <button
                onClick={(e) => {
                  e.stopPropagation();
                  toggleComplete(skillId);
                }}
                className={`w-full py-2.5 rounded-lg font-semibold text-sm transition-all ${
                  skill.completed
                    ? 'bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg shadow-green-500/30'
                    : `bg-gradient-to-r ${category.gradient} text-white shadow-lg`
                }`}
              >
                {skill.completed ? 'âœ“ ì·¨ë“ì™„ë£Œ' : 'ì·¨ë“í•˜ê¸°'}
              </button>
            )}
          </div>
        )}
      </div>
    );
  };

  const categoryStats = getCategoryStats();
  const totalStats = getTotalStats();

  return (
    <div className={`min-h-screen bg-gradient-to-br ${currentTheme.bg} p-8 overflow-auto`}>
      <div className="max-w-7xl mx-auto">
        <div className="text-center mb-8">
          <h1 className="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-300 to-amber-200 mb-2">
            ì¸ìƒ ìŠ¤í‚¬ íŠ¸ë¦¬
          </h1>
          <p className="text-gray-400 text-lg">ë¿Œë¦¬ë¶€í„° ê°€ì§€ê¹Œì§€, ë‚˜ì˜ ì„±ì¥ ì—¬ì •</p>
        </div>

        <div className="flex justify-center gap-3 mb-6">
          {Object.entries(themes).map(([key, t]) => (
            <button
              key={key}
              onClick={() => setTheme(key)}
              className={`px-5 py-2.5 rounded-xl font-semibold transition-all ${
                theme === key
                  ? 'bg-gradient-to-r from-amber-400 to-yellow-500 text-gray-900 shadow-lg shadow-amber-500/30 scale-105'
                  : 'bg-white/10 text-white hover:bg-white/20 backdrop-blur-sm border border-white/10'
              }`}
            >
              {t.name}
            </button>
          ))}
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <div className="space-y-6">
            <div className="bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-xl">
              <h2 className="text-white text-xl font-bold mb-4 flex items-center gap-2">
                <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center">ğŸ“Š</div>
                ì „ì²´ ì§„í–‰ë¥ 
              </h2>
              <div className="text-center mb-4">
                <div className="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 mb-2">
                  {totalStats.percentage}%
                </div>
                <div className="text-sm text-gray-400">{totalStats.completed} / {totalStats.total} ì·¨ë“</div>
                <div className="text-xs text-amber-400 mt-2">ğŸ’¡ ì¶”ì²œ ìê²©ì¦ {totalStats.recommended}ê°œ</div>
              </div>
              <div className="w-full bg-gray-700/50 rounded-full h-3 overflow-hidden">
                <div
                  className="h-3 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-500 shadow-lg"
                  style={{ width: `${totalStats.percentage}%` }}
                />
              </div>
            </div>

            <div className="bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-xl">
              <h2 className="text-white text-xl font-bold mb-4 flex items-center gap-2">
                <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center">ğŸ“š</div>
                í•™ì—…
              </h2>
              <div className="text-center mb-3">
                <div className="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-500">
                  {academic.gpa}
                </div>
                <div className="text-sm text-gray-400 mt-1">/ {academic.maxGpa}</div>
              </div>
              <div className="w-full bg-gray-700/50 rounded-full h-3 overflow-hidden">
                <div
                  className="h-3 bg-gradient-to-r from-indigo-500 to-purple-500 transition-all shadow-lg"
                  style={{ width: `${(academic.gpa / academic.maxGpa * 100)}%` }}
                />
              </div>
            </div>

            <div className="bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-xl">
              <h2 className="text-white text-xl font-bold mb-4 flex items-center gap-2">
                <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center">ğŸ¯</div>
                ë¶„ì•¼ë³„ ì—­ëŸ‰
              </h2>
              <div className="space-y-4">
                {Object.entries(categoryStats).map(([name, stat]) => {
                  const cat = Object.values(categories).find(c => c.name === name);
                  return (
                    <div key={name}>
                      <div className="flex justify-between mb-2">
                        <span className="text-white text-sm font-semibold flex items-center gap-2">
                          <span className="text-lg">{cat.icon}</span>
                          {name}
                        </span>
                        <span className="text-gray-400 text-sm font-mono">
                          {stat.completed}/{stat.total}
                        </span>
                      </div>
                      <div className="w-full bg-gray-700/50 rounded-full h-2.5 overflow-hidden">
                        <div
                          className={`h-2.5 bg-gradient-to-r ${cat.gradient} transition-all shadow-lg`}
                          style={{ width: `${stat.percentage}%` }}
                        />
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
          </div>

          <div className="lg:col-span-2">
            <div className="bg-gradient-to-br from-gray-900/50 to-gray-800/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/30 relative shadow-2xl" style={{ minHeight: '900px' }}>
              {/* SVG ì—°ê²°ì„  ë ˆì´ì–´ */}
              <svg className="absolute inset-0 w-full h-full pointer-events-none" style={{ zIndex: 0 }}>
                {/* ë¬´ì—­ ì²´ì¸ */}
                {renderConnection('tradeMaster2', 'tradeMaster1')}
                {renderConnection('distribution2', 'logisticsMgr')}
                {renderConnection('logisticsMgr', 'customsAgent')}
                {renderConnection('tradeMaster1', 'originMgr')}
                
                {/* IT ì²´ì¸ */}
                {renderConnection('infoProcTech', 'infoProcEng')}
                {renderConnection('infoProcEng', 'infoProcPro')}
                {renderConnection('wordProcessor', 'sqld')}
                {renderConnection('sqld', 'adsp')}
                {renderConnection('adsp', 'bigdata')}
                
                {/* ì•ˆì „ ì²´ì¸ */}
                {renderConnection('hazardTech', 'hazardEng')}
                {renderConnection('hazardEng', 'gasEng')}
                {renderConnection('hazardEng', 'safetyMgr')}
                
                {/* ì‚¬ë¬´ ì²´ì¸ */}
                {renderConnection('secretary2', 'secretary1')}
                {renderConnection('secretary2', 'humanResource')}
              </svg>

              {/* ì¤‘ì•™ ë¿Œë¦¬ */}
              <div className="absolute left-1/2 bottom-12 transform -translate-x-1/2 z-10">
                <Hexagon size={100}>
                  <svg width="100" height="100" className="absolute inset-0">
                    <defs>
                      <filter id="root-glow">
                        <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                        <feMerge>
                          <feMergeNode in="coloredBlur"/>
                          <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                      </filter>
                    </defs>
                    <polygon
                      points="50,12.4 87.32,33.3 87.32,75.3 50,96.2 12.68,75.3 12.68,33.3"
                      fill="#fbbf24"
                      stroke="#fbbf24"
                      strokeWidth="4"
                      filter="url(#root-glow)"
                    />
                  </svg>
                  <div className="relative z-10 text-center">
                    <div className="text-4xl mb-1">ğŸŒ±</div>
                    <div className="text-white font-bold text-sm">ì¸ìƒ</div>
                  </div>
                </Hexagon>
              </div>

              {/* ëª¨ë“  ìŠ¤í‚¬ ë…¸ë“œ */}
              {Object.keys(skills).map(skillId => renderSkillNode(skillId))}
            </div>
          </div>
        </div>

        <div className="text-center text-gray-500 text-sm mt-8 space-y-1">
          <p>ğŸ’¡ ë…¸ë“œë¥¼ í´ë¦­í•˜ì—¬ ìƒì„¸ì •ë³´ í™•ì¸ ë° ì·¨ë“ ìƒíƒœë¥¼ ë³€ê²½í•˜ì„¸ìš”</p>
          <p>ğŸ”’ ì´ì „ ë‹¨ê³„ë¥¼ ì™„ë£Œí•´ì•¼ ë‹¤ìŒ ìê²©ì¦ì´ ì ê¸ˆ í•´ì œë©ë‹ˆë‹¤</p>
          <p className="text-amber-400">âš¡ ì ì„  í…Œë‘ë¦¬ì™€ ëŠë‚Œí‘œëŠ” ì¶”ì²œ ìê²©ì¦ì…ë‹ˆë‹¤</p>
        </div>
      </div>
    </div>
  );
};

export default LifeSkillTree;
